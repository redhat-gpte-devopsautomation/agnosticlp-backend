:data-uri:
:noaudio:

== Retry Code Example

* Add a retry policy to a method

----
import org.eclipse.microprofile.faulttolerance.Retry;

@Retry(maxRetries = 4)
public String callRemoteService() {
    // call a remote service
    // it may fail
}
----

* When a method returns and the retry policy is present, the following rules are applied:

* If the method returns normally (doesn't throw), the result is simply returned.
** Otherwise, if the thrown object is assignable to any value in the abortOn() parameter, the thrown object is rethrown.
** Otherwise, if the thrown object is assignable to any value in the retryOn() parameter, the method call is retried.
** Otherwise the thrown object is rethrown.

* If a method throws a Throwable which is not an Error or Exception, non-portable behavior results.

ifdef::showscript[]

Transcript:


endif::showscript[]
